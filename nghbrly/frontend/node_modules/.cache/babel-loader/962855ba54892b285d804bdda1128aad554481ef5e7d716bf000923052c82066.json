{"ast":null,"code":"var _jsxFileName = \"/Users/cchae/python/INET-Monday-Spring2023-Team-3/nghbrly/frontend/src/Components/Home/Home.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { Button, Pane, Text } from \"evergreen-ui\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Home() {\n  _s();\n  const history = useHistory();\n  const [isMounted, setIsMounted] = useState(false);\n  const [profile, setProfile] = useState({});\n  const jwt = localStorage.getItem(\"jwt\");\n  const getProfile = async () => {\n    try {\n      const {\n        data\n      } = await axios.get(`${process.env.REACT_APP_SERVER_URL_PREFIX}/api/profile/`);\n      setProfile(data);\n      setIsMounted(true);\n    } catch (e) {\n      localStorage.removeItem(\"jwt\");\n      history.replace(\"/login\");\n    }\n  };\n  useEffect(() => {\n    getProfile();\n  }, []);\n  const logout = () => {\n    localStorage.removeItem(\"jwt\");\n    history.replace(\"/login\");\n  };\n  if (!isMounted) return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 26\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Pane, {\n    style: {\n      padding: 32\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Welcome \", profile.username, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"You used \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: profile.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 18\n      }, this), \" to register\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"yay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      style: {\n        marginTop: 32\n      },\n      onClick: logout,\n      children: \"Log out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Want to create some new Crawls ?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"fxCePjhudS2rnnN7gAbPrNDNSEM=\", false, function () {\n  return [useHistory];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["axios","Button","Pane","Text","useEffect","useState","useHistory","jsxDEV","_jsxDEV","Home","_s","history","isMounted","setIsMounted","profile","setProfile","jwt","localStorage","getItem","getProfile","data","get","process","env","REACT_APP_SERVER_URL_PREFIX","e","removeItem","replace","logout","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","children","username","email","marginTop","onClick","_c","$RefreshReg$"],"sources":["/Users/cchae/python/INET-Monday-Spring2023-Team-3/nghbrly/frontend/src/Components/Home/Home.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { Button, Pane, Text } from \"evergreen-ui\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Home() {\n  const history = useHistory();\n  const [isMounted, setIsMounted] = useState(false);\n  const [profile, setProfile] = useState({});\n  const jwt = localStorage.getItem(\"jwt\");\n\n  const getProfile = async () => {\n    try {\n      const { data } = await axios.get(\n        `${process.env.REACT_APP_SERVER_URL_PREFIX}/api/profile/`\n      );\n      setProfile(data);\n      setIsMounted(true);\n    } catch (e) {\n      localStorage.removeItem(\"jwt\");\n      history.replace(\"/login\");\n    }\n  };\n  useEffect(() => {\n    getProfile();\n  }, []);\n\n  const logout = () => {\n    localStorage.removeItem(\"jwt\");\n    history.replace(\"/login\");\n  };\n  if (!isMounted) return <div></div>;\n  return (\n    <Pane style={{ padding: 32 }}>\n      <h1>Welcome {profile.username}!</h1>\n      <div>\n        You used <strong>{profile.email}</strong> to register\n      </div>\n      <div>\n        yay\n      </div>\n      <Button style={{ marginTop: 32 }} onClick={logout}>\n        Log out\n      </Button>\n      <p>\n        Want to create some new Crawls ?\n      </p>\n    </Pane>\n  );\n}\n\nexport default Home;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,EAAEC,IAAI,EAAEC,IAAI,QAAQ,cAAc;AACjD,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,UAAU,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACd,MAAMC,OAAO,GAAGL,UAAU,EAAE;EAC5B,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1C,MAAMW,GAAG,GAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;EAEvC,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMpB,KAAK,CAACqB,GAAG,CAC7B,GAAEC,OAAO,CAACC,GAAG,CAACC,2BAA4B,eAAc,CAC1D;MACDT,UAAU,CAACK,IAAI,CAAC;MAChBP,YAAY,CAAC,IAAI,CAAC;IACpB,CAAC,CAAC,OAAOY,CAAC,EAAE;MACVR,YAAY,CAACS,UAAU,CAAC,KAAK,CAAC;MAC9Bf,OAAO,CAACgB,OAAO,CAAC,QAAQ,CAAC;IAC3B;EACF,CAAC;EACDvB,SAAS,CAAC,MAAM;IACde,UAAU,EAAE;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMS,MAAM,GAAGA,CAAA,KAAM;IACnBX,YAAY,CAACS,UAAU,CAAC,KAAK,CAAC;IAC9Bf,OAAO,CAACgB,OAAO,CAAC,QAAQ,CAAC;EAC3B,CAAC;EACD,IAAI,CAACf,SAAS,EAAE,oBAAOJ,OAAA;IAAAqB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAW;EAClC,oBACExB,OAAA,CAACN,IAAI;IAAC+B,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,gBAC3B3B,OAAA;MAAA2B,QAAA,GAAI,UAAQ,EAACrB,OAAO,CAACsB,QAAQ,EAAC,GAAC;IAAA;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,eACpCxB,OAAA;MAAA2B,QAAA,GAAK,WACM,eAAA3B,OAAA;QAAA2B,QAAA,EAASrB,OAAO,CAACuB;MAAK;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAU,gBAC3C;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM,eACNxB,OAAA;MAAA2B,QAAA,EAAK;IAEL;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM,eACNxB,OAAA,CAACP,MAAM;MAACgC,KAAK,EAAE;QAAEK,SAAS,EAAE;MAAG,CAAE;MAACC,OAAO,EAAEX,MAAO;MAAAO,QAAA,EAAC;IAEnD;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS,eACTxB,OAAA;MAAA2B,QAAA,EAAG;IAEH;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAI;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACC;AAEX;AAACtB,EAAA,CA5CQD,IAAI;EAAA,QACKH,UAAU;AAAA;AAAAkC,EAAA,GADnB/B,IAAI;AA8Cb,eAAeA,IAAI;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}